{"version":3,"file":"static/js/649.f6ad86c2.chunk.js","mappings":"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","sources":["webpack://react-complete-guide/./src/components/Business/ServicesSummary.module.css?6f77","components/Business/ServicesSummary.js","webpack://react-complete-guide/./src/components/Business/AvailableServices.module.css?5afd","webpack://react-complete-guide/./src/components/UI/Card.module.css?26d0","components/UI/Card.js","webpack://react-complete-guide/./src/components/Business/PartsItem/PartsItem.module.css?468e","webpack://react-complete-guide/./src/components/Business/PartsItem/PartsItemForm.module.css?3568","webpack://react-complete-guide/./src/components/UI/Input.module.css?b6ae","components/UI/Input.js","components/Business/PartsItem/PartsItemFrom.js","components/Business/PartsItem/PartsItem.js","webpack://react-complete-guide/./src/components/Business/SearchForm.module.css?6450","components/Business/SearchForm.js","components/Business/AvailableServices.js","components/Business/Services.js","pages/Sell.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"summary\":\"ServicesSummary_summary__flhDZ\"};","import classes from './ServicesSummary.module.css';\r\n\r\nconst ServicesSummary = () => {\r\n  return (\r\n    <section className={classes.summary}>\r\n      <h2>Excellent Service, Delivered To the Customer</h2>\r\n      <p>\r\n      Connect the customer's car with us and get a better solution from others.\r\n      </p>\r\n      <p>\r\n        All our service are done by experienced engineer to deliver an excellent service to the customer. with cheap rate from others.\r\n      </p>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default ServicesSummary;","// extracted by mini-css-extract-plugin\nexport default {\"meals\":\"AvailableServices_meals__E5j3k\",\"meals-appear\":\"AvailableServices_meals-appear__1Q2VR\",\"mealLoading\":\"AvailableServices_mealLoading__hDySv\",\"mealLoadingError\":\"AvailableServices_mealLoadingError__oHzxG\"};","// extracted by mini-css-extract-plugin\nexport default {\"card\":\"Card_card__9h8Dh\"};","import classes from './Card.module.css';\r\n\r\nconst Card  = props => {\r\n    return <div className={classes.card}>{props.children}</div>\r\n};\r\n\r\nexport default Card;","// extracted by mini-css-extract-plugin\nexport default {\"meal\":\"PartsItem_meal__vzZEa\",\"description\":\"PartsItem_description__S2G7F\",\"price\":\"PartsItem_price__cdcKE\",\"inCart\":\"PartsItem_inCart__GRoau\",\"meal--highlight\":\"PartsItem_meal--highlight__4vsqz\",\"item--lowstock\":\"PartsItem_item--lowstock__JsELI\",\"highlight\":\"PartsItem_highlight__ndhH3\"};","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"PartsItemForm_form__bLPxA\"};","// extracted by mini-css-extract-plugin\nexport default {\"input\":\"Input_input__+xIWo\"};","import classes from './Input.module.css';\r\nimport React from 'react';\r\n\r\nconst Input = React.forwardRef((props, ref) => {\r\n    return (\r\n        <div className={classes.input}>\r\n            <label htmlFor={props.input.id}>{props.label}</label>\r\n            <input id={props.input.id} ref={ref} {...props.input} />\r\n        </div>\r\n    );\r\n});\r\n\r\nexport default Input;","import { Fragment, useRef, useState } from 'react';\r\nimport classes from './PartsItemForm.module.css';\r\nimport Input from '../../UI/Input';\r\n\r\nconst PartsItemFrom = props => {\r\n    const [amountIsValid, setAmountIsValid] = useState(true);\r\n    const amountInputRef = useRef();\r\n\r\n    const submitHandler = event => {\r\n        event.preventDefault();\r\n\r\n        const enteredAmount = amountInputRef.current.value;\r\n        const enteredAmountNumber = +enteredAmount;\r\n        if(enteredAmount.trim().length === 0 || enteredAmountNumber < 1 || enteredAmountNumber >5) {\r\n            setAmountIsValid(false);\r\n            return;\r\n        }\r\n\r\n        props.onAddToCart(enteredAmountNumber);\r\n    };\r\n\r\n    const addButton = <Fragment>\r\n        {props.canSell && <button >+ Add</button>}\r\n        {!(props.canSell) && <button type=\"button\" disabled>+ Add</button>}\r\n    </Fragment>\r\n    return <form className={classes.form} onSubmit={submitHandler}>\r\n        <Input \r\n            label=\"No(s)\" \r\n            ref={amountInputRef}\r\n            input={{\r\n            id: 'amount',\r\n            type: 'number',\r\n            min: '1',\r\n            max: `${props.stock}`,\r\n            step: '1',\r\n            defaultValue: '1'\r\n        }}/>\r\n        {addButton}\r\n        {!amountIsValid && <p>Please enter a valid amount(1-5)</p>}\r\n    </form>\r\n};\r\n\r\nexport default PartsItemFrom;","import { useDispatch, useSelector } from \"react-redux\";\r\nimport { cartActions, getAllCartItems } from \"../../../store/cart-slice\";\r\nimport classes from \"./PartsItem.module.css\";\r\nimport PartsItemFrom from \"./PartsItemFrom\";\r\n\r\nconst PartsItem = (props) => {\r\n  const price = `â‚¹${props.price.toFixed(2)}`;\r\n  const dispatch = useDispatch();\r\n  const cartItems = useSelector(getAllCartItems);\r\n\r\n  const addToCartHandler = async (amount) => {\r\n    let canAdd = false;\r\n    const item = cartItems.find((item) => {\r\n      return item.id === props.id;\r\n    });\r\n    if (item) {\r\n      if (item.amount + amount <= props.stock) {\r\n        canAdd = true;\r\n      }\r\n    } else {\r\n      canAdd = true;\r\n    }\r\n\r\n    if (canAdd) {\r\n      const item = {\r\n        id: props.id,\r\n        name: props.name,\r\n        amount: amount,\r\n        price: props.price,\r\n      };\r\n      await dispatch(cartActions.addToCart({ item }));\r\n    }\r\n  };\r\n  const mealClasses = `${classes.meal} ${\r\n    props.inCart.amount > 0 ? classes[\"meal--highlight\"] : \"\"\r\n  } ${props.stock < 1 ? classes[\"item--lowstock\"] : \"\"}`;\r\n  console.log(\"props\", props);\r\n  return (\r\n    <li className={mealClasses} key={props.id}>\r\n      <div>\r\n        <h3>{props.name}</h3>\r\n        <div className={classes.description}>Code: {props.code}</div>\r\n        <div className={classes.description}>Part No: {props.partNo}</div>\r\n        <div className={classes.description}>Available: {props.stock}</div>\r\n        {props.location && (\r\n          <div className={classes.highlight}>Find Area: {props.location}</div>\r\n        )}\r\n        <div className={classes.price}>{price}</div>\r\n      </div>\r\n      <div>\r\n        <PartsItemFrom\r\n          stock={props.stock}\r\n          onAddToCart={addToCartHandler}\r\n          canSell={props.canSell}\r\n        />\r\n        {props.inCart.amount > 0 && (\r\n          <span className={classes.inCart}>x {props.inCart.amount}</span>\r\n        )}\r\n      </div>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default PartsItem;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"text--input\":\"SearchForm_text--input__8BRG+\"};","import { useRef } from 'react';\r\nimport classes from './SearchForm.module.css';\r\n\r\nconst SearchFrom = props => {\r\n    const searchInputRef = useRef();\r\n    const submitHandler = (event) => {\r\n        event.preventDefault();\r\n        const enteredText = searchInputRef.current.value;\r\n        props.search(enteredText);\r\n    };\r\n\r\n    const keyupHandler = (event) => {\r\n        props.search(event.target.value);\r\n    };\r\n    return (\r\n        <form onSubmit={submitHandler}>\r\n            <input \r\n                className={classes['text--input']} \r\n                onKeyUp={keyupHandler} \r\n                ref={searchInputRef} \r\n                placeholder='Search Items...'\r\n            />\r\n        </form>\r\n    );\r\n};\r\n\r\nexport default SearchFrom;","import classes from \"./AvailableServices.module.css\";\r\nimport Card from \"../UI/Card\";\r\nimport PartsItem from \"./PartsItem/PartsItem\";\r\nimport { useEffect, useState } from \"react\";\r\nimport SearchFrom from \"./SearchForm\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { getAllItems, itemsActions } from \"../../store/items-slice\";\r\nimport { getAllCartItems } from \"../../store/cart-slice\";\r\n\r\nconst AvailableServices = () => {\r\n  const items = useSelector(getAllItems);\r\n  const dispatch = useDispatch();\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [httpError, setHttpError] = useState();\r\n  const cartItems = useSelector(getAllCartItems);\r\n\r\n  const searchHandler = (string) => {\r\n    dispatch(itemsActions.searchItems(string));\r\n  };\r\n\r\n  useEffect(() => {\r\n    console.log(\"all items\", items);\r\n  }, []);\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <section className={classes.mealLoading}>\r\n        <h1>Loading...</h1>\r\n      </section>\r\n    );\r\n  }\r\n\r\n  if (httpError) {\r\n    return (\r\n      <section className={classes.mealLoadingError}>\r\n        <h1>{httpError}</h1>\r\n      </section>\r\n    );\r\n  }\r\n  const findInCart = (meal) => {\r\n    return (\r\n      cartItems.find((find) => {\r\n        return find.id === meal.id;\r\n      }) || { amount: 0 }\r\n    );\r\n  };\r\n\r\n  const availableStock = (item) => {\r\n    const cart = cartItems.find((find) => find.id === item.id);\r\n    return cart ? item.stock > cart.amount : true;\r\n  };\r\n  console.log('items map',items);\r\n  const mealsList = items.map((meal) => (\r\n    <PartsItem\r\n      key={meal.id}\r\n      id={meal.id}\r\n      code={meal.code}\r\n      name={meal.name}\r\n      stock={meal.stock}\r\n      partNo={meal.part_no}\r\n      price={meal.price}\r\n      location={meal.location}\r\n      canSell={meal.canSell && availableStock(meal)}\r\n      inCart={findInCart(meal)}\r\n    />\r\n  ));\r\n  return (\r\n    <section className={classes.meals}>\r\n      <Card>\r\n        <SearchFrom search={searchHandler} />\r\n        <ul>{mealsList}</ul>\r\n      </Card>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default AvailableServices;\r\n","import ServicesSummary from \"./ServicesSummary\";\r\nimport AvailableServices from \"./AvailableServices\";\r\nimport { Fragment, useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { isLoggedIn, token } from \"../../store/auth-slice\";\r\nimport { fetchItems } from \"../../store/items-slice\";\r\n\r\nconst Services = (props) => {\r\n  const userToken = useSelector(token);\r\n  const dispatch = useDispatch();\r\n  const isUserLoggedIn = useSelector(isLoggedIn);\r\n\r\n  const loadData = async () => {\r\n    await dispatch(fetchItems({ token: userToken }));\r\n  };\r\n\r\n  useEffect(() => {\r\n    console.log(\"token->\", userToken);\r\n    loadData();\r\n  }, [userToken]);\r\n  return (\r\n    <Fragment>\r\n      <ServicesSummary />\r\n      {isUserLoggedIn && <AvailableServices />}\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default Services;\r\n","import { Fragment } from \"react\";\r\nimport Services from \"../components/Business/Services\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { authActions, isLoggedIn } from \"../store/auth-slice\";\r\nimport { cartActions } from \"../store/cart-slice\";\r\n\r\nfunction Sell() {\r\n  const isUserLoggedIn = useSelector(isLoggedIn);\r\n  const dispatch = useDispatch();\r\n\r\n  const removeLocalStorage = () => {\r\n    localStorage.removeItem(\"loggedIn\");\r\n    localStorage.removeItem(\"token\");\r\n    localStorage.removeItem(\"type\");\r\n    localStorage.clear();\r\n  };\r\n\r\n  const resetRedux = async () => {\r\n    await dispatch(authActions.resetAuth());\r\n    await dispatch(cartActions.resetCart());\r\n  };\r\n\r\n  const logoutHandler = async () => {\r\n    await removeLocalStorage();\r\n    await resetRedux();\r\n  };\r\n  return (\r\n    <Fragment>\r\n      {isUserLoggedIn && <Services onLogout={logoutHandler} />}\r\n    </Fragment>\r\n  );\r\n}\r\n\r\nexport default Sell;\r\n"],"names":["className","classes","props","children","React","ref","htmlFor","input","id","label","useState","amountIsValid","setAmountIsValid","amountInputRef","useRef","addButton","Fragment","canSell","type","disabled","onSubmit","event","preventDefault","enteredAmount","current","value","enteredAmountNumber","trim","length","onAddToCart","min","max","stock","step","defaultValue","price","toFixed","dispatch","useDispatch","cartItems","useSelector","getAllCartItems","addToCartHandler","amount","canAdd","item","find","name","cartActions","mealClasses","inCart","console","log","code","partNo","location","searchInputRef","enteredText","search","onKeyUp","target","placeholder","items","getAllItems","isLoading","httpError","useEffect","findInCart","meal","availableStock","cart","mealsList","map","part_no","string","itemsActions","userToken","token","isUserLoggedIn","isLoggedIn","loadData","fetchItems","resetRedux","authActions","logoutHandler","localStorage","removeItem","clear","onLogout"],"sourceRoot":""}